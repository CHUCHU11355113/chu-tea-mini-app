# CHU TEA Mini App - 端到端测试用例

**版本**: v1.0
**作者**: Manus AI
**日期**: 2026年1月3日

---

## 1. 测试目标

本测试计划旨在全面验证 CHU TEA Mini App 的所有功能，确保其稳定性、可靠性和用户体验符合上线标准。测试的重点是验证**平台型配置系统**的灵活性和**规则引擎**的准确性。

## 2. 测试范围

- **后台配置管理**: 所有配置项的增删改查。
- **核心业务流程**: 从浏览商品到支付完成的完整购物流程。
- **会员与营销**: 会员等级、积分、优惠券和营销活动的功能。
- **前端 UI/UX**: 遵循 Apple 设计规范的界面和交互体验。
- **多语言**: 俄语、英语、中文的显示正确性。

## 3. 测试环境

- **前端**: 移动端浏览器（模拟 Telegram Mini App 环境）
- **后端**: 本地开发服务器
- **数据库**: 本地 MySQL

---

## 4. 测试用例

### 4.1. 模块一：后台配置管理 (Admin Panel)

| ID | 模块 | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **ADM-001** | 系统配置 | **创建新的产品选项** | 1. 登录后台管理页面。<br>2. 进入“系统配置” -> “产品选项”。<br>3. 创建一个新的选项组，如“温度 (Температура)”。<br>4. 在“温度”组下添加选项，如“热 (Горячий)”、“温 (Теплый)”。 | 1. 新的选项组和选项成功创建。<br>2. 在产品详情页，可以看到新的“温度”选项。 | **高** |
| **ADM-002** | 系统配置 | **修改配送方式费用** | 1. 登录后台。<br>2. 进入“系统配置” -> “配送方式”。<br>3. 选择“外卖配送”，将其基础费用修改为 150₽。<br>4. 保存配置。 | 1. 配置保存成功。<br>2. 在结算页面选择“外卖配送”，配送费显示为 150₽。 | **高** |
| **ADM-003** | 业务规则 | **创建满减优惠券规则** | 1. 登录后台。<br>2. 进入“业务规则” -> “优惠券”。<br>3. 创建一个新规则：<br>   - **条件**: `order.totalAmount >= 1000`<br>   - **动作**: `applyDiscount(amount: 200)`<br>4. 启用规则。 | 1. 规则创建成功。<br>2. 在购物车，当订单金额超过1000₽时，应用此优惠券后，总价减少200₽。 | **高** |
| **ADM-004** | 业务规则 | **创建消费送积分规则** | 1. 登录后台。<br>2. 进入“业务规则” -> “积分”。<br>3. 创建一个新规则：<br>   - **事件**: `order.completed`<br>   - **动作**: `addPoints(formula: "order.totalAmount * 0.1")` | 1. 规则创建成功。<br>2. 用户完成一笔500₽的订单后，其账户增加50积分。 | **高** |

### 4.2. 模块二：核心购物流程

| ID | 模块 | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **SHOP-001** | 产品菜单 | **动态产品选项价格** | 1. 进入任意一款奶茶的产品详情页。<br>2. 选择一个需要加价的小料（如“珍珠”，+30₽）。<br>3. 选择一个大杯（+50₽）。 | 1. 页面上的产品总价实时更新。<br>2. 最终价格 = 基础价 + 30₽ + 50₽。 | **高** |
| **SHOP-002** | 购物车 | **应用优惠券** | 1. 将总价超过1000₽的商品加入购物车。<br>2. 进入购物车页面，选择 ADM-003 中创建的满减券。<br>3. 点击应用。 | 1. 优惠券应用成功。<br>2. 订单总价正确减少200₽。 | **高** |
| **SHOP-003** | 结算 | **动态配送费计算** | 1. 在结算页面填写一个在配送范围内的地址。<br>2. 选择“外卖配送”。<br>3. 更改为“到店自取”。 | 1. 选择“外卖配送”时，显示正确的配送费（150₽）。<br>2. 选择“到店自取”时，配送费变为0。 | **高** |
| **SHOP-004** | 结算 | **支付方式选择** | 1. 进入结算页面。<br>2. 查看支付方式列表。 | 1. 默认显示所有后台配置的可用支付方式（如 YooKassa, SberPay, 货到付款）。 | **中** |

### 4.3. 模块三：会员与营销

| ID | 模块 | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **MEM-001** | 会员中心 | **会员等级与积分展示** | 1. 使用一个已有积分和等级的账户登录。<br>2. 进入“我的”页面。 | 1. 正确显示用户的会员等级（如“金卡会员”）。<br>2. 正确显示当前的积分余额。<br>3. 显示升级到下一等级所需的积分进度条。 | **高** |
| **MEM-002** | 会员升级 | **自动升级** | 1. 后台配置“金卡会员”升级条件为“累计消费满5000₽”。<br>2. 使用一个累计消费4900₽的账户完成一笔200₽的订单。<br>3. 再次进入“我的”页面。 | 1. 用户等级自动从“银卡”升级为“金卡”。<br>2. 系统发送一条升级成功的通知。 | **高** |
| **MKT-001** | 营销活动 | **参与活动** | 1. 在首页点击一个正在进行的营销活动（如“新年特惠”）。<br>2. 进入活动详情页。<br>3. 点击“立即参与”按钮。 | 1. 提示参与成功。<br>2. 用户的账户中获得相应的优惠券或权益。 | **中** |

### 4.4. 模块四：UI/UX 与多语言

| ID | 模块 | 测试场景 | 测试步骤 | 预期结果 | 优先级 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **UI-001** | 视觉风格 | **Apple 设计规范** | 1. 浏览所有已开发的页面。<br>2. 检查按钮、卡片、输入框等组件的样式。 | 1. 所有组件的圆角、阴影、渐变等效果符合 Apple 设计规范。<br>2. 页面布局简洁，留白充足。 | **高** |
| **UI-002** | 交互体验 | **过渡动画** | 1. 点击按钮。<br>2. 打开/关闭底部弹窗。<br>3. 页面跳转。 | 1. 所有交互都有流畅、自然的过渡动画。<br>2. 按钮点击有 `active:scale-95` 效果。 | **中** |
| **LANG-001**| 多语言 | **俄语优先** | 1. 在不设置任何语言偏好的情况下首次打开应用。 | 1. 应用默认显示俄语界面。 | **高** |
| **LANG-002**| 多语言 | **语言切换** | 1. 在个人设置中，将语言从俄语切换到英语。<br>2. 浏览首页、菜单页。 | 1. 界面语言成功切换为英语。<br>2. 所有文本（包括从配置中读取的名称）都显示为英文。 | **中** |

---

## 5. 测试执行与缺陷管理

- **执行**: 按照上述用例逐一执行测试。
- **记录**: 记录每个用例的实际结果。
- **缺陷管理**: 发现的任何问题都将被记录在缺陷管理工具中，并分配给开发人员进行修复。
- **回归测试**: 缺陷修复后，需要对相关功能进行回归测试，确保问题已解决且未引入新问题。
